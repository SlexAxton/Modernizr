<!doctype html>
<html class="no-js" lang=en>
<head>
  <title>Modular Modernizr Demo Page</title>
</head>
<body>
Console, yo.
<script src="src/require.js"></script>
<script>
  require.config({
    baseUrl : 'src/',
    paths : {
      'test' : '../feature-detects'
    }
  });

  require([
    // Stuff we always need
    'ModernizrProto', 'Modernizr', 'testRunner', 'setClasses',
    // Extras
    'addTest', 'html5printshiv',
    // Tests, yay.
    'test/a/download',
    'test/applicationcache',
    'test/audio/audiodata',
    'test/audio/webaudio',
    'test/audio',
    'test/battery',
    'test/battery/lowbattery',
    'test/blob',
    'test/canvas/todataurl',
    'test/canvas',
    'test/canvastext',
    'test/contenteditable',
    'test/contentsecuritypolicy',
    'test/contextmenu',
    'test/cookies',
    'test/cors',
    'test/css/animations',
    'test/css/backgroundposition-shorthand',
    'test/css/backgroundposition-xy',
    'test/css/backgroundrepeat',
    'test/css/backgroundsize',
    'test/css/backgroundsizecover',
    'test/css/borderimage',
    'test/css/borderradius',
    'test/css/boxshadow',
    'test/css/boxsizing',
    'test/css/calc',
    'test/css/columns',
    'test/css/cubicbezierrange',
    'test/css/displayrunin',
    'test/css/displaytable',
    'test/css/filters',
    'test/css/flexbox',
    'test/css/flexboxlegacy',
    'test/css/fontface',
    'test/css/generatedcontent',
    'test/css/gradients',
    'test/css/hsla',
    'test/css/hyphens',
    'test/css/lastchild',
    'test/css/mask',
    'test/css/mediaqueries',
    'test/css/multiplebgs',
    'test/css/objectfit',
    'test/css/opacity',
    'test/css/overflow-scrolling',
    'test/css/pointerevents',
    'test/css/positionsticky',
    'test/css/reflections',
    'test/css/regions',
    'test/css/remunit',
    'test/css/resize',
    'test/css/rgba',
    'test/css/scrollbars',
    'test/css/subpixelfont',
    'test/css/supports',
    'test/css/textshadow',
    'test/css/transforms',
    'test/css/transforms3d',
    'test/css/transitions',
    'test/css/userselect',
    'test/css/vhunit',
    'test/css/vmaxunit',
    'test/css/vminunit',
    'test/css/vwunit',
    'test/dom/classlist',
    'test/dom/createElement-attrs',
    'test/dom/dataset',
    'test/dom/microdata',
    'test/elem/datalist',
    'test/elem/details',
    'test/elem/output',
    'test/elem/progress-meter',
    'test/elem/ruby',
    'test/elem/time',
    'test/elem/track',
    'test/es5/strictmode',
    'test/event/deviceorientation-motion',
    'test/file/api',
    'test/file/filesystem',
    'test/forms/fileinput',
    'test/forms/formattribute'
  ], function( ModernizrProto, Modernizr, testRunner, setClasses, addTest ) {
    // Run each test
    testRunner();

    // Remove the 'no-js' class if it exists
    setClasses();

    // Ovveride the addTest class with one that works
    // after the tests have run and kill the async
    // test function, since it doesn't make sense anymore
    ModernizrProto.addTest = addTest;
    delete ModernizrProto.addAsyncTest;

    // Leak Modernizr namespace
    window.Modernizr = Modernizr;

    console.dir(window.Modernizr);
  });
</script>
</body>
</html>
